<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandra's Staff Page - Insomnium Corp</title>
    <style>
        .tabs {
            display: flex;
            gap: 20px;
            justify-content: flex-end; /* Align tabs to the right */
            width: 100%;
            height: 80px;
            margin-right: 20px;
        }

        .tabs a {
            color: #d08824; /* Updated color for link */
            text-decoration: none;
            font-weight: bold;
            font-size: 16px; /* Adjusted font size */
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #616161;
            color: #ffffff;
            text-align: left;
            padding: 1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #logo {
            max-width: 10%;
            height: auto;
            margin-right: 20px;
        }

        #title {
            max-width: 32%;
            height: auto;
            margin-right: 20px;
        }

        #employee-info {
            text-align: right;
        }

        section {
            margin: 20px;
            padding: 20px;
            background-color: #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        h2 {
            color: #616161;
        }

        p {
            margin: 10px 0;
        }

        /* Message Service Styles */
        #message-container {
            margin-top: 20px;
            border: 1px solid #d08824;
            padding: 10px;
            overflow-y: auto;
            height: 200px;
            border-radius: 5px;
        }

        .message {
            margin-bottom: 10px;
        }

        .sender-sandra {
            font-weight: bold;
            color: #d08824;
        }

        .sender-carol {
            font-weight: bold;
            color: #616161;
        }

        #message-input {
            margin-top: 10px;
            display: flex;
            align-items: center;
        }

        #message-text {
            flex: 1;
            padding: 8px;
            border: 1px solid #d08824;
            border-radius: 5px;
            margin-right: 10px;
        }

        #send-button {
            padding: 8px 15px;
            background-color: #d08824;
            color: #ffffff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #error-message {
            color: #ff0000;
            margin-top: 10px;
        }

        /* Media Queries for Responsiveness */
        @media (max-width: 600px) {
            #logo,
            #title {
                max-width: 100%;
                height: auto;
                margin-right: 10px;
            }

            section {
                margin: 10px;
                padding: 10px;
            }

            h2 {
                font-size: 1.5em;
            }

            #message-container {
                max-height: 150px;
            }
        }

        .chat-bubble {
            background-color:#E6F8F1;
            padding: 5px 10px;
            -webkit-border-radius: 20px;
            -webkit-border-bottom-left-radius: 2px;
            -moz-border-radius: 20px;
            -moz-border-radius-bottomleft: 2px;
            border-radius: 20px;
            border-bottom-left-radius: 2px;
            display:inline-block;
        }
        .typing {
            align-items: center;
            display: flex;
            height: 17px;
        }
        .typing .dot {
            animation: mercuryTypingAnimation 1.8s infinite ease-in-out;
            background-color: #6CAD96;
            border-radius: 50%;
            height: 7px;
            margin-right: 4px;
            vertical-align: middle;
            width: 7px;
            display: inline-block;
        }
        .typing .dot:nth-child(1) {
            animation-delay: 200ms;
        }
        .typing .dot:nth-child(2) {
            animation-delay: 300ms;
        }
        .typing .dot:nth-child(3) {
            animation-delay: 400ms;
        }
        .typing .dot:last-child {
            margin-right: 0;
        }

        @keyframes mercuryTypingAnimation {
            0% {
                transform: translateY(0px);
                background-color:#6CAD96;
            }
            28% {
                transform: translateY(-7px);
                background-color:#9ECAB9;
            }
            44% {
                transform: translateY(0px);
                background-color: #B5D9CB;
            }
        }
    </style>
</head>

<body>
    <header>
        <div>
            <a href="index.html">
                <img id="logo" src="Insomnium_Logo_Finished.png" alt="Insomnium Corp Logo">
            </a>
            <img id="title" src="Insomnium_corp_title.png" alt="Insomnium Corp Title">
            <h1>Staff Page</h1>
        </div>
        <div id="employee-info">
            <p>Employee number: 655506</p>
            <p>Sandra Adams</p>
        </div>
    </header>

    <section>
        <h2>Employee Information</h2>
        <p><strong>Name:</strong> Sandra</p>
        <p><strong>Position:</strong> RECEPTIONIST</p>
        <p><strong>Email:</strong> sandradreamco@gmail.com</p>
        <p><strong>Phone:</strong> [REDACTED]</p>
    </section>

    <!-- Message Service -->
    <section id="message-container">
        <div id="message-stream">
            <div class="message">
                <span class="sender-sandra">01/08/2026 Sandra:</span> hey have you heard about this promotion thing?
            </div>
            <div class="message">
                <span class="sender-carol">01/08/2026 Carol:</span> No, corporate didn't tell me about any new positions.
            </div>
            <div class="message">
                <span class="sender-sandra">01/08/2026 Sandra:</span> I'm not supposed to say much about it, but I think it's some test group
                thing. They're saying they'll up my pay if I do it.
            </div>
            <div class="message">
                <span class="sender-carol">01/08/2026 Carol:</span> ooh that sounds nice, no idea what they're testing tho.
            </div>
            <div class="message">
                <span class="sender-carol">12/10/2026 Carol:</span> Hey Sandra, where the hell have you been, you just stopped showing up to work. Has this got anything to do with that promotion?
            </div>
            <div class="message">
                <span class="sender-sandra">12/10/2026 Sandra:</span> There are too many prying eyes, they are looking for me. Email me instead. IT can't check them.
            </div>
            <!-- Add more messages as needed -->
        </div>
        <div id="message-typing" class="chat-bubble" style="display:none">
            <div class="typing">
              <div class="dot"></div>
              <div class="dot"></div>
              <div class="dot"></div>
            </div>
            </div>
    </section>

    <!-- Message Input -->
    <div id="message-input">
        <input type="text" id="message-text" placeholder="Type your message...">
        <button id="send-button" onclick="sendMessage()">Send</button>
    </div>

    <!-- Error Message -->
    <div id="error-message"></div>

    <script>
        const responses = [
            {
                "find": "hello",
                "msg": "who are you? how did you get into Sandras account?",
                "delay": 3000
            },
            {
                "find": "hi",
                "msg": "who are you? how did you get into Sandras account?",
                "delay": 3000
            },
            {
                "find": "experiment",
                "msg": "So you know about the experiments, I'm assuming you were able to find information we weren't. We dont know what to do, I'm currently keeping Sandra safe with me. Should we go to Police or the News or is there someone else we can go to?",
                "delay": 6000
            },
            {
                "find": "test",
                "msg": "So you know about the experiments, I'm assuming you were able to find information we weren't. We dont know what to do, I'm currently keeping Sandra safe with me. Should we go to Police or the News or is there someone else we can go to?",
                "delay": 6000
            },
            {
                "find": "sandra",
                "msg": "How do you know about Sandra?",
                "delay": 6000
            },
            {
                "find": "police",
                "msg": "Okay, we'll go to the police. https://www.youtube.com/watch?v=o5S5PFUZ6e8",
                "delay": 2000
            },
            {
                "find": "news",
                "msg": "Okay, we'll go to the news. https://www.youtube.com/watch?v=TXWLGQuoj60",
                "delay": 2000
            },
            {
                "find": "mark",
                "msg": "Mark as in, Mark Coran? Isn't he the engineer that built that DreamScape? Are you sure he's a safe person to go to?",
                "delay": 4000
            },
            {
                "find": "yes",
                    "msg":"Okay, we'll go to Mark. https://www.youtube.com/watch?v=3Ahz44L01i8",
                "delay": 2000
            }
        ]

        const ctr = document.getElementById("message-container");
        const stream = document.getElementById("message-stream");
        const msg = document.getElementById("message-text");
        const typing = document.getElementById("message-typing");
        const errorMsg = document.getElementById("error-message");        
        var isConnectedToInsomniumCorp = false; // Replace with actual check logic
        var bubbleCtr = 0;
        
        msg.addEventListener("keyup", function(event) {
            if (event.keyCode === 13) {
                event.preventDefault();
                document.getElementById("send-button").click();
            }
        });

        function appendMessage(sender, msg) {
            var today = new Date();
            var todayIso = today.toISOString();
            var todayYr = todayIso.substring(0, 4);
            var todayMth = todayIso.substring(5, 7);
            var todayDay = todayIso.substring(8, 10);

            var senderText = todayDay + "/" + todayMth + "/" + todayYr + " " + sender + ":";

            var msgDiv = document.createElement("div");
            msgDiv.className = "message";

            var msgSpan = document.createElement("span")
            msgSpan.className = "sender-" + sender.toLowerCase();
            msgSpan.innerText = senderText;
            msgDiv.appendChild(msgSpan);
            var msgText = document.createTextNode(" " + msg);
            msgDiv.appendChild(msgText);

            stream.appendChild(msgDiv);

            ctr.scrollTop = ctr.scrollHeight;
        }

        function showBubble() {
            typing.style = "";
            bubbleCtr++;
            ctr.scrollTop = ctr.scrollHeight;
        }

        function hideBubble() {
            if (bubbleCtr > 0) {
                bubbleCtr--;
            }            
            if (bubbleCtr === 0) {
                typing.style = "display:none;";
                ctr.scrollTop = ctr.scrollHeight;
            }
        }

        function sendMessage() {
            errorMsg.textContent = "";

            if (msg.value === "connect") {
                isConnectedToInsomniumCorp = true;
                msg.value = "";
            }
            else if (msg.value === "disconnect") {
                isConnectedToInsomniumCorp = false;
                msg.value = "";
            }
            else if (isConnectedToInsomniumCorp) {
                appendMessage("Sandra", msg.value);

                var resp = "I'm sorry, I'm confused";
                var delay = 3000;

                const lowerStr = msg.value.toLowerCase();
                for (var i = 0; i < responses.length; i++) {
                    const opt = responses[i];
                    if (lowerStr.search(opt.find) >= 0) {
                        resp = opt.msg;
                        delay = opt.delay;
                        break;
                    }
                }

                msg.value = "";

                window.setTimeout(function() {
                    showBubble();
                    window.setTimeout(function() {
                        hideBubble();
                        appendMessage("Carol", resp);
                    }, delay);
                }, 1500)
            } else {
                msg.value = "";
                errorMsg.textContent = "You can only send messages whilst connected to an Insomnium Corp Internet connection";
            }
        }
    </script>
</body>
</html>
